{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thiago\\\\arlo-clothing\\\\src\\\\pages\\\\Home\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { MdAddShoppingCart } from 'react-icons/md';\nimport { ProductList } from './styles';\nimport { api } from '../../services/api';\nimport { formatPrice } from '../../utils/format';\nimport { useCart } from '../../hooks/useCart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const {\n    cart,\n    addProduct\n  } = useCart();\n  const cartItemsAmount = cart.reduce((sumAmount, product) => {\n    sumAmount[product.id] = product.amount;\n    return sumAmount;\n  }, {});\n  useEffect(() => {\n    async function loadProducts() {\n      const {\n        data\n      } = await api.get('products');\n      const FormattedData = data.map(product => ({ ...product,\n        priceFormatted: formatPrice(product.price)\n      }));\n      setProducts(FormattedData);\n    }\n\n    loadProducts();\n  }, []);\n\n  function handleAddProduct(id) {\n    addProduct(id);\n  }\n\n  return /*#__PURE__*/_jsxDEV(ProductList, {\n    children: products.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.image,\n        alt: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: product.priceFormatted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"add-product-button\",\n        onClick: () => handleAddProduct(product.id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-testid\": \"cart-product-quantity\",\n          children: [/*#__PURE__*/_jsxDEV(MdAddShoppingCart, {\n            size: 16,\n            color: \"#FFF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), cartItemsAmount[product.id] || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"ADICIONAR AO CARRINHO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"aC5FWHyMc8vUjqnxWCZ0GnUf2XI=\", false, function () {\n  return [useCart];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Thiago/arlo-clothing/src/pages/Home/index.tsx"],"names":["React","useState","useEffect","MdAddShoppingCart","ProductList","api","formatPrice","useCart","Home","products","setProducts","cart","addProduct","cartItemsAmount","reduce","sumAmount","product","id","amount","loadProducts","data","get","FormattedData","map","priceFormatted","price","handleAddProduct","image","title"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,iBAAT,QAAkC,gBAAlC;AAEA,SAASC,WAAT,QAA4B,UAA5B;AACA,SAASC,GAAT,QAAoB,oBAApB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,OAAT,QAAwB,qBAAxB;;;AAiBA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAqB,EAArB,CAAxC;AACD,QAAM;AAAEU,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAuBL,OAAO,EAApC;AAEA,QAAMM,eAAe,GAAGF,IAAI,CAACG,MAAL,CAAY,CAACC,SAAD,EAAYC,OAAZ,KAAwB;AAC1DD,IAAAA,SAAS,CAACC,OAAO,CAACC,EAAT,CAAT,GAAwBD,OAAO,CAACE,MAAhC;AACA,WAAOH,SAAP;AACA,GAHsB,EAGpB,EAHoB,CAAxB;AAKAb,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeiB,YAAf,GAA8B;AAC5B,YAAM;AAACC,QAAAA;AAAD,UAAS,MAAMf,GAAG,CAACgB,GAAJ,CAAmB,UAAnB,CAArB;AAEA,YAAMC,aAAa,GAAGF,IAAI,CAACG,GAAL,CAASP,OAAO,KAAK,EACzC,GAAGA,OADsC;AAEzCQ,QAAAA,cAAc,EAAElB,WAAW,CAACU,OAAO,CAACS,KAAT;AAFc,OAAL,CAAhB,CAAtB;AAMAf,MAAAA,WAAW,CAACY,aAAD,CAAX;AAED;;AAEDH,IAAAA,YAAY;AACb,GAfQ,EAeN,EAfM,CAAT;;AAkBA,WAASO,gBAAT,CAA0BT,EAA1B,EAAsC;AACpCL,IAAAA,UAAU,CAACK,EAAD,CAAV;AACD;;AAED,sBACE,QAAC,WAAD;AAAA,cACGR,QAAQ,CAACc,GAAT,CAAaP,OAAO,iBACnB;AAAA,8BACA;AACE,QAAA,GAAG,EAAEA,OAAO,CAACW,KADf;AAEE,QAAA,GAAG,EAAEX,OAAO,CAACY;AAFf;AAAA;AAAA;AAAA;AAAA,cADA,eAKA;AAAA,kBAASZ,OAAO,CAACY;AAAjB;AAAA;AAAA;AAAA;AAAA,cALA,eAMA;AAAA,kBAAOZ,OAAO,CAACQ;AAAf;AAAA;AAAA;AAAA;AAAA,cANA,eAOA;AACE,QAAA,IAAI,EAAC,QADP;AAEE,uBAAY,oBAFd;AAGE,QAAA,OAAO,EAAE,MAAME,gBAAgB,CAACV,OAAO,CAACC,EAAT,CAHjC;AAAA,gCAKE;AAAK,yBAAY,uBAAjB;AAAA,kCACE,QAAC,iBAAD;AAAmB,YAAA,IAAI,EAAE,EAAzB;AAA6B,YAAA,KAAK,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,kBADF,EAEIJ,eAAe,CAACG,OAAO,CAACC,EAAT,CAAf,IAA+B,CAFnC;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPA;AAAA,OAASD,OAAO,CAACC,EAAjB;AAAA;AAAA;AAAA;AAAA,YADD;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AA0BD,CAzDD;;GAAMT,I;UAEyBD,O;;;KAFzBC,I;AA2DN,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { MdAddShoppingCart } from 'react-icons/md'\r\n\r\nimport { ProductList } from './styles'\r\nimport { api } from '../../services/api'\r\nimport { formatPrice } from '../../utils/format'\r\nimport { useCart } from '../../hooks/useCart'\r\n\r\ninterface Product {\r\n  id: number\r\n  title: string\r\n  price: number\r\n  image: string\r\n}\r\n\r\ninterface ProductFormatted extends Product {\r\n  priceFormatted: string\r\n}\r\n\r\ninterface CartItemsAmount {\r\n  [key: number]: number\r\n}\r\n\r\nconst Home = () => {\r\n   const [products, setProducts] = useState<ProductFormatted[]>([]);\r\n  const { cart, addProduct } = useCart();\r\n  \r\n  const cartItemsAmount = cart.reduce((sumAmount, product) => {\r\n    sumAmount[product.id] = product.amount\r\n    return sumAmount\r\n   }, {} as CartItemsAmount)\r\n\r\n  useEffect(() => {\r\n    async function loadProducts() {\r\n      const {data} = await api.get<Product[]>('products')\r\n      \r\n      const FormattedData = data.map(product => ({\r\n        ...product,\r\n        priceFormatted: formatPrice(product.price)\r\n\r\n      }))\r\n\r\n      setProducts(FormattedData)\r\n      \r\n    }\r\n\r\n    loadProducts()\r\n  }, [])\r\n\r\n\r\n  function handleAddProduct(id: number) {\r\n    addProduct(id)\r\n  }\r\n\r\n  return (\r\n    <ProductList>\r\n      {products.map(product => (\r\n        <li key={product.id}>\r\n        <img\r\n          src={product.image}\r\n          alt={product.title}\r\n        />\r\n        <strong>{product.title}</strong>\r\n        <span>{product.priceFormatted}</span>\r\n        <button\r\n          type='button'\r\n          data-testid='add-product-button'\r\n          onClick={() => handleAddProduct(product.id)}\r\n        >\r\n          <div data-testid='cart-product-quantity'>\r\n            <MdAddShoppingCart size={16} color='#FFF' />\r\n             {cartItemsAmount[product.id] || 0}\r\n          </div>\r\n\r\n          <span>ADICIONAR AO CARRINHO</span>\r\n        </button>\r\n      </li>\r\n      ))}\r\n    </ProductList>\r\n  )\r\n}\r\n\r\nexport default Home"]},"metadata":{},"sourceType":"module"}